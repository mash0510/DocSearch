@model DocSearch.Models.DocSearchModel

@{
    ViewBag.Title = "Document Search";
}

<!-- <h2>Document Search</h2> -->

<!-- 検索キーワード入力部分 -->
@using (Html.BeginForm("Index", "DocSearch", FormMethod.Get))
{
    <div>
        <div class="form-group">
            @Html.LabelFor(m => m.InputKeywords, new { @class = "col-md-2 control-label" })
            @Html.TextBoxFor(m => m.InputKeywords, new { id = "keywordTextBox" }) <input type="submit" value="検索" />
        </div>
    </div>
}

<!-- キーワードに関連する単語を表示する部分 -->
<div class="ds-relatedwords">
    @if (Model != null)
    {
        <h4>関連語</h4>
        <ul>
            @foreach (var relatedWord in Model.RelatedWordList(10))
            {
                <li onclick="wordSelect(this.innerHTML)">@relatedWord</li>
            }
        </ul>
    }
</div>

<!-- 検索結果表示部分 -->
<div>

</div>

<script type="text/javascript">
    // 関連語の選択時の処理
    function wordSelect(selectedWord)
    {
        var keywords = $('#keywordTextBox').val();

        // 検索キーワードテキストボックスに既に存在する関連語は追加しない。
        if (keywords.indexOf(selectedWord) != -1)
            return;

        keywords = keywords + " " + selectedWord;

        // 検索キーワードテキストボックスへの選択した関連語の追加
        $('#keywordTextBox').val(keywords);
    }
</script>