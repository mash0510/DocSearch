<div class="row">
    <div class="col-md-7">
        <div class="progress">
            <div class="progress-bar" id="progressBar" role="progressbar" style="width: 0%;">
            </div>
        </div>
    </div>
    <div class="col-md-1">
        <label id="progressRate"></label>
    </div>
</div>

<script type="text/javascript">
    function ShowProgressBar(id)
    {
        StartInvoicing();
    }

    function StartInvoicing() {
        var progressNotifier = $.connection.progressHub;

        // サーバー側からのメッセージを受信する部分
        progressNotifier.client.sendMessage = function (message, count) {
            UpdateProgress(message, count);
        };

        // サーバー側にメッセージを送る部分
        $.connection.hub.start().done(function () {
            progressNotifier.server.getMessage("");
        });
    }

    function UpdateProgress(message, count) {
        $("#progressRate").html(count + '%');
        $("#progressBar").css({ 'width': count + '%' });
    }
</script>